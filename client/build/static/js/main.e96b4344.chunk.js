(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,t,c){},129:function(e,t,c){},219:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c(0),s=c.n(n),r=c(23),o=c.n(r),i=(c(128),c(34)),l=(c(129),c(130),c(13)),u=c(22),p=c(119),j=c(225),d=c(226),b=c(228),h=c(82),m=c(25),f=c.n(m),g=c(38),O=c(53),x=c.n(O),v=c(227),y=Object(n.createContext)(),k="http://localhost:5000/",S=function(e){var t=e.children,c=Object(n.useState)(null),s=Object(u.a)(c,2),r=s[0],o=s[1],i=Object(n.useState)(!0),p=Object(u.a)(i,2),j=p[0],d=p[1],b=Object(n.useState)(""),m=Object(u.a)(b,2),O=m[0],S=m[1],w=Object(n.useState)([]),N=Object(u.a)(w,2),C=N[0],I=N[1],T=Object(n.useState)([]),z=Object(u.a)(T,2),L=z[0],P=z[1],R=Object(l.f)();Object(n.useEffect)((function(){localStorage.getItem("seenTutorial")&&d(!1)}),[]),Object(n.useEffect)((function(){var e=localStorage.getItem("user");e&&o(e)}),[]);var A=function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(k+"getMove");case 3:(t=e.sent).data===O||["none","loading.."].includes(t.data)||S(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=setInterval(A,1e3);return function(){return clearInterval(e)}}),[A]);var F=function(e){var t=Object(h.a)(C),c=Object(h.a)(L);console.log("RESULT",e);var a={win:"W",loss:"L",tie:"T"};e.player_move&&(t.push({move:e.player_move,outcome:a[e.result]}),c.push({move:e.pc_move,outcome:"win"===e.result?"L":"W"}),console.log(t),I((function(t){return t.concat({move:e.player_move,outcome:a[e.result]})})),P((function(t){return t.concat({move:e.pc_move,outcome:"win"===e.result?"L":"W"})})),console.log("player:",t),console.log("ai:",c))};return Object(a.jsx)(y.Provider,{value:{user:r,move:O,playerHistory:C,aiHistory:L,showTutorial:j,completeTutorial:function(){localStorage.setItem("seenTutorial",!0),d(!1),R.push("/game")},login:function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("login"),e.prev=1,e.next=4,x.a.get(k+"login");case 4:t=e.sent,"unknown"===t.data?v.b.error("Unable to login, please try again or signup."):(o(t.data),localStorage.setItem("user",t.data),v.b.success("Succesfully logged in as "+t.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),signup:function(){var e=Object(g.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("signup called"),e.prev=1,(c=new FormData).append("name",t.name),e.next=6,x.a.post(k+"signup",c);case 6:e.sent,o(t.name),localStorage.setItem("user",t.name),v.b.success("Succesfully signed in as "+t.name),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),playMove:function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(k+"playMove");case 3:return t=e.sent,console.log(t.data),F(t.data),e.abrupt("return",t.data);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},children:t})},w=function(){var e=Object(n.useContext)(y),t=e.user,c=e.login,s=e.signup,r=Object(n.useState)("signup"),o=Object(u.a)(r,2),i=o[0],l=o[1],h=Object(n.useRef)(),m=function(){if("signup"===i){var e=h.current.getFieldsValue();s(e)}else c()},f={login:Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"info-title",children:"Login"}),Object(a.jsx)("p",{className:"info-description",children:"Face towards your camera to log into RPLSS."}),Object(a.jsx)(p.a,{type:"primary",block:!0,onClick:m,children:"Login"}),Object(a.jsx)("div",{style:{textAlign:"center",paddingTop:"12px"},children:Object(a.jsxs)("span",{children:["Haven't registered your face?",Object(a.jsx)("a",{onClick:function(){return l("signup")},children:" Signup"})]})})]}),signup:Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"info-title",children:"Signup"}),Object(a.jsx)("p",{className:"info-description",children:"Face towards your camera and keep still so that we can train our AI to detect your face in the future."}),Object(a.jsxs)(j.a,{onFinish:m,ref:h,children:[Object(a.jsx)(j.a.Item,{name:"name",rules:[{required:!0,message:"Please enter your name."}],children:Object(a.jsx)(d.a,{id:"name",prefix:Object(a.jsx)(b.a,{}),placeholder:"Name"})}),Object(a.jsx)(p.a,{type:"primary",htmlType:"submit",block:!0,children:"Signup"}),Object(a.jsx)("div",{style:{textAlign:"center",paddingTop:"12px"},children:Object(a.jsxs)("span",{children:["Already registered your face?",Object(a.jsx)("a",{onClick:function(){return l("login")},children:" Login"})]})})]})]})};return t?Object(a.jsx)("div",{}):Object(a.jsx)("div",{className:"info-card",children:f[i]})},N=function(e){var t=e.stepIndex,c=e.step,s=e.nextStep,r=e.prevStep,o=e.completeTutorial,i=Object(n.useContext)(y).move,l=Object(n.useState)(!1),j=Object(u.a)(l,2),d=j[0],b=j[1];Object(n.useEffect)((function(){b(!1)}),[c]);var h=function(e){return e.text.split("\n").map((function(e){return Object(a.jsx)("p",{children:e})}))};return Object(a.jsxs)("div",{className:"info-card",children:[Object(a.jsx)("p",{className:"info-title",children:c.title}),Object(a.jsx)(h,{text:c.description,className:"info-description"}),t>0?Object(a.jsx)(p.a,{style:{marginRight:"12px"},onClick:r,children:"Back"}):null,t<6?Object(a.jsx)(p.a,{type:"primary",disabled:!d&&0!==t&&(i!==c.title.toLowerCase()||(b(!0),!1)),onClick:s,children:"Next"}):Object(a.jsx)(p.a,{type:"primary",onClick:o,children:"Start"})]})},C=function(e){var t,c=e.stepIndex,n=e.max,s=e.hasColor,r=["#6E7ED3","#FA8072","#B85757"];return t=!s||c>3?r[0]:c>1?r[1]:r[2],Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:s?"progress-bar game-progress-bar":"progress-bar",style:{width:640*(c+1)/n,backgroundColor:t},children:Object(a.jsx)("div",{})})})},I=function(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),c=t[0],s=t[1],r=Object(n.useContext)(y),o=r.user,i=r.showTutorial,l=r.completeTutorial,p=[{title:"Calibration",description:"During the following steps you will be prompted with the various moves.\nPerform the following actions in the designated box."},{title:"Rock",description:"Please form a vertical fist for the rock.\nRecall of that rock crushes scissors and lizard."},{title:"Paper",description:"Please form a vertical open palm with fingers together for the paper.\nRecall that paper covers rock and disproves spock."},{title:"Scissors",description:"Please form a horizontal peace-sign, knuckles facing outward, for scissors.\nRecall that scissors cuts paper and decapitates lizard."},{title:"Lizard",description:"Please horizontally join fingers at the thumb to for lizard.\nRecall that lizard poisons spock and eats paper."},{title:"Spock",description:"Please form a vertical open palm with distance between middle and ring fingers for spock.\nRecall that spock smashes scissors and vaporizes rock."},{title:"Calibration Complete",description:"Thank you for calibrating. You are now ready to start playing!"}];return i&&o?Object(a.jsxs)("div",{className:"tutorial",children:[Object(a.jsx)(C,{stepIndex:c,max:7}),Object(a.jsx)(N,{stepIndex:c,step:p[c],nextStep:function(){s(Math.min(c+1,p.length-1))},prevStep:function(){s(Math.max(c-1,0))},completeTutorial:l})]}):Object(a.jsx)("div",{})},T=function(){return Object(a.jsx)("div",{className:"home-layout",children:Object(a.jsxs)("div",{className:"stream",children:[Object(a.jsx)("img",{src:"http://localhost:5000/stream"}),Object(a.jsx)(I,{}),Object(a.jsx)(w,{})]})})},z=function(e){var t,c=e.right,n=e.name,s=e.score;return t=c?"score-card right":"score-card",Object(a.jsxs)("div",{className:t,children:[Object(a.jsx)("p",{className:"name",children:n}),Object(a.jsx)("p",{className:"score",children:s})]})},L=c.p+"static/media/rock.ff7aab86.png",P=c.p+"static/media/paper.e763d2cc.png",R=c.p+"static/media/scissors.4b0e855c.png",A=c.p+"static/media/lizard.aadc4674.png",F=c.p+"static/media/spock.c88c5f9f.png",E=function(e){var t,c=e.right,n=e.moves;t=c?"move-history right":"move-history";var s={R:L,P:P,S:R,L:A,K:F};return Object(a.jsx)("div",{className:t,children:function(){for(var e=[],t=n.length-1;t>=Math.max(n.length-5,0);t--)e.push(n[t]);return e}().map((function(e,t){return Object(a.jsx)("img",{className:"move-icon",src:s[e.move],alt:"new"},t)}))})},M=function(){var e=Object(n.useContext)(y),t=e.playMove,c=e.playerHistory,s=e.aiHistory,r=Object(n.useContext)(y).user,o=Object(n.useState)(0),i=Object(u.a)(o,2),j=i[0],d=i[1],b=Object(n.useState)(0),h=Object(u.a)(b,2),m=h[0],O=h[1],x=Object(n.useState)(0),v=Object(u.a)(x,2),k=v[0],S=v[1],w=Object(n.useState)(!1),N=Object(u.a)(w,2),I=N[0],T=N[1],L=Object(n.useState)(null),P=Object(u.a)(L,2),R=(P[0],P[1],Object(l.f)());Object(n.useEffect)((function(){if(I){var e=setInterval((function(){var e=(k+1)%6;5===e&&A(),S(e)}),1e3);return function(){return clearInterval(e)}}}),[k,I]);var A=function(){var e=Object(g.a)(f.a.mark((function e(){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:c=e.sent,T(!1),"loss"===c.result?(console.log("Loss"),O(m+1)):"win"===c.result?(console.log("Win"),d(j+1)):console.log("Tie"),setTimeout((function(){T(!0)}),2e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(!I);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){r||R.push("/")}),[r]);return Object(a.jsx)("div",{className:"game-layout",children:Object(a.jsxs)("div",{className:"stream",children:[Object(a.jsx)("img",{src:"http://localhost:5000/stream"}),Object(a.jsx)(z,{right:!0,name:r||"",score:j}),Object(a.jsx)(z,{started:I,right:!1,name:"AI",score:m}),Object(a.jsx)(E,{right:!0,moves:c}),Object(a.jsx)(E,{moves:s}),Object(a.jsx)(p.a,{className:"game-btn",size:"large",type:"primary",onClick:F,children:I?"Stop":"Start"}),Object(a.jsx)(C,{hasColor:!0,stepIndex:4-k,max:5}),Object(a.jsx)("p",{className:"result",children:function(){var e={R:"rock",P:"paper",S:"scissors",L:"lizard",K:"spock"},t={rock:{scissors:"crushes",lizard:"crushes"},paper:{rock:"covers",spock:"disproves"},scissors:{paper:"cuts",lizard:"decapitates"},lizard:{spock:"poisons",paper:"eats"},spock:{rock:"vaporizes",scissors:"smashes"}};if(0!=c.length&&0!=s.length){console.log(c[c.length-1]);var a=e[c[c.length-1].move],n=e[s[s.length-1].move];if(a&&n){if(a===n)return"You played ".concat(a,", AI played ").concat(n,". You both tied.");var r=t[a][n];return r?"You played ".concat(a,", AI played ").concat(n,". ").concat(a.charAt(0).toUpperCase()+a.slice(1)," ").concat(r," ").concat(n,". You win!"):(r=t[n][a],"You played ".concat(a,", AI played ").concat(n,". ").concat(n.charAt(0).toUpperCase()+n.slice(1)," ").concat(r," ").concat(a,". You lost!"))}}}()})]})})},Y=c.p+"static/media/chart.d056558b.png",B=c(223),D=c(224),H=function(){var e=Object(l.f)();return Object(a.jsx)("div",{className:"about-page",children:Object(a.jsxs)(B.a,{gutter:48,style:{alignItems:"center"},children:[Object(a.jsxs)(D.a,{span:12,children:[Object(a.jsx)("h1",{children:"About"}),Object(a.jsx)("p",{children:'Rock, Paper, Scissors, Lizard, Spock is a game of chance by Sam Kass and Karen Bryla which adds "Spock" and "Lizard" to the famous game of Rock, Paper, Scissors. The game was used to settle many disputes on the popular show The Big Bang Thoery'}),Object(a.jsx)(p.a,{size:"large",type:"primary",style:{marginTop:"12px"},onClick:function(){return e.push("/game")},children:"Start Playing"})]}),Object(a.jsx)(D.a,{span:12,children:Object(a.jsx)("img",{src:Y})})]})})},_=function(e){return Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:T}),Object(a.jsx)(l.a,{path:"/game",component:M}),Object(a.jsx)(l.a,{path:"/about",component:H})]})},K=function(){return Object(a.jsx)("div",{className:"footer",children:"Developed by Yousef, Rajessen, Shrish"})},U=function(){return Object(a.jsx)("header",{children:Object(a.jsxs)("div",{className:"inner-header",children:[Object(a.jsx)("div",{className:"logo",children:Object(a.jsx)(i.b,{to:"/",children:"RPLSS"})}),Object(a.jsx)("div",{className:"navigation",children:Object(a.jsxs)("nav",{children:[Object(a.jsx)(i.b,{to:"/game",children:"Game"}),Object(a.jsx)(i.b,{to:"/about",children:"About"})]})})]})})},W=function(){return Object(a.jsxs)("div",{className:"root-layout",children:[Object(a.jsx)(U,{}),Object(a.jsx)(_,{}),Object(a.jsx)(K,{})]})};var J=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(i.a,{children:Object(a.jsx)(S,{children:Object(a.jsx)(W,{})})})})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,229)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(J,{})}),document.getElementById("root")),q()}},[[219,1,2]]]);
//# sourceMappingURL=main.e96b4344.chunk.js.map